
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../singularity/">
      
      
        <link rel="next" href="../../../Viz_Analytics/">
      
      
      <link rel="icon" href="../../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.16">
    
    
      
        <title>Apptainer - NREL HPC</title>
      
    
    
      <link rel="stylesheet" href="../../../../assets/stylesheets/main.7e37652d.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  

<script id="__analytics">function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","UA-189117140-2"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","UA-189117140-2",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=UA-189117140-2",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script>
  
    <script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
  

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#how-to-use-apptainer" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
        <aside class="md-banner">
          <div class="md-banner__inner md-grid md-typeset">
            
              <button class="md-banner__button md-icon" aria-label="Don't show this again">
                
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
              </button>
            
            
<!-- Add announcement here, including arbitrary HTML -->
The <a href="https://nrel.github.io/HPC/Documentation/Resource_Management_System/#aus_report-command-line-utility">aus_report</a> CLI utility is now available on Kestrel and Swift for tracking AU usage.
  
          </div>
          
            <script>var el=document.querySelector("[data-md-component=announce]");if(el){var content=el.querySelector(".md-typeset");__md_hash(content.innerHTML)===__md_get("__announce")&&(el.hidden=!0)}</script>
          
        </aside>
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../../.." title="NREL HPC" class="md-header__button md-logo" aria-label="NREL HPC" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            NREL HPC
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Apptainer
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/NREL/HPC/tree/gh-pages" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    NREL/HPC
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../../.." class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../blog/2020-12-01-numba/" class="md-tabs__link">
          
  
  
    
  
  Blog

        </a>
      </li>
    
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../../" class="md-tabs__link">
          
  
  
    
  
  Documentation

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../.." title="NREL HPC" class="md-nav__button md-logo" aria-label="NREL HPC" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    NREL HPC
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/NREL/HPC/tree/gh-pages" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    NREL/HPC
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Blog
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Blog
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../blog/2020-12-01-numba/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Speeding up Python Code with Numba
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../blog/2021-05-06-tf/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Faster Machine Learning with Custom Built TensorFlow on Eagle
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../blog/2021-06-18-srun/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Using srun to Launch Applications Under Slurm
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../blog/2022-02-02-Changes_to_Slurm_srun_for_interactive_jobs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Changes to Slurm "srun" for Interactive Jobs
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../blog/2022-10-04-python2to3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Running Legacy Python 2 Code on Eagle
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../blog/2022-03-05-local-io-performance/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Local I/O Performance on Eagle
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../blog/2022-12-19-windows_ssh/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Workaround for Windows SSH "Corrupted MAC on input" Error
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../blog/2023-01-10-using_specific_module_versions_on_hpc/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Using Specific Module Versions on the HPC
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../blog/2023-11-28_module_updates/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Module Updates on Kestrel for November 2023
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Documentation
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3" id="__nav_3_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Documentation
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../getting_started/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Getting Started
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../help/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Help and Support
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_4" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../Resource_Management_System/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Allocation Management System
    
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_4">
            <span class="md-nav__icon md-icon"></span>
            Allocation Management System
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_5" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../Systems/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Systems
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_5" id="__nav_3_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_5">
            <span class="md-nav__icon md-icon"></span>
            Systems
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_5_2" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../Systems/Kestrel/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Kestrel
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_5_2" id="__nav_3_5_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_5_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_5_2">
            <span class="md-nav__icon md-icon"></span>
            Kestrel
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_5_2_2" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../Systems/Kestrel/Running/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Running on Kestrel
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_5_2_2" id="__nav_3_5_2_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_3_5_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_5_2_2">
            <span class="md-nav__icon md-icon"></span>
            Running on Kestrel
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Systems/Kestrel/Running/kestrel_job_priorities/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Job Priorities on Kestrel
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Systems/Kestrel/Running/example_sbatch/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Example Sbatch Scripts
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Systems/Kestrel/Running/performancerecs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Performance Recommendations
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_5_2_3" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../Systems/Kestrel/Filesystems/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Filesystems
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_5_2_3" id="__nav_3_5_2_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_3_5_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_5_2_3">
            <span class="md-nav__icon md-icon"></span>
            Filesystems
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Systems/Kestrel/Filesystems/lustre/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lustre Best Practices
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Systems/Kestrel/kestrel_release_notes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Kestrel Release Notes
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_5_2_5" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../Systems/Kestrel/Environments/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Environments
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_5_2_5" id="__nav_3_5_2_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_3_5_2_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_5_2_5">
            <span class="md-nav__icon md-icon"></span>
            Environments
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_5_2_5_2" >
        
          
          <label class="md-nav__link" for="__nav_3_5_2_5_2" id="__nav_3_5_2_5_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Toolchains
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_3_5_2_5_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_5_2_5_2">
            <span class="md-nav__icon md-icon"></span>
            Toolchains
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Systems/Kestrel/Environments/Toolchains/intel/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Intel
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Systems/Kestrel/Environments/Toolchains/others/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    MPI
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Systems/Kestrel/Environments/tutorial/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Environments Tutorial
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Systems/Kestrel/Environments/gpubuildandrun/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Building Applications for GPUs
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_5_3" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../Systems/Swift/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Swift
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_5_3" id="__nav_3_5_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_5_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_5_3">
            <span class="md-nav__icon md-icon"></span>
            Swift
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Systems/Swift/running/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Running on Swift
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Systems/Swift/modules/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Modules
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Systems/Swift/filesystems/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Filesystems
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_5_4" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../Systems/Vermilion/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Vermilion
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_5_4" id="__nav_3_5_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_5_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_5_4">
            <span class="md-nav__icon md-icon"></span>
            Vermilion
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Systems/Vermilion/running/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Running on Vermilion
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_6" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../Slurm/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Slurm Job Scheduling
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_6" id="__nav_3_6_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_6">
            <span class="md-nav__icon md-icon"></span>
            Slurm Job Scheduling
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Slurm/monitor_and_control/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Monitor and Control Commands
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Slurm/batch_jobs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Submitting Batch Jobs
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Slurm/interactive_jobs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Running Interactive Jobs
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Slurm/multiple_sub_jobs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Multiple Sub-Jobs
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Slurm/job_arrays/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Job Arrays
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_7" >
        
          
          <label class="md-nav__link" for="__nav_3_7" id="__nav_3_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Managing your Data
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_7">
            <span class="md-nav__icon md-icon"></span>
            Managing your Data
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Managing_Data/file_permissions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Unix File Permissions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Managing_Data/mss/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Mass Storage System
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Managing_Data/localstorage/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Node Local Storage
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_7_4" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../Managing_Data/Transferring_Files/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Transferring Files
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_7_4" id="__nav_3_7_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_7_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_7_4">
            <span class="md-nav__icon md-icon"></span>
            Transferring Files
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Managing_Data/Transferring_Files/FileZilla/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    FileZilla
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Managing_Data/Transferring_Files/globus/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Transferring Files with Globus
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Managing_Data/Transferring_Files/winscp/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    WinSCP
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_8" >
        
          
          <label class="md-nav__link" for="__nav_3_8" id="__nav_3_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Environment
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_8">
            <span class="md-nav__icon md-icon"></span>
            Environment
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Environment/shell/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Shell Startup
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Environment/lmod/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lmod
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Environment/Customization/conda/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Conda
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_8_4" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../Environment/Building_Packages/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Building an Application
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_8_4" id="__nav_3_8_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_8_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_8_4">
            <span class="md-nav__icon md-icon"></span>
            Building an Application
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Environment/Building_Packages/acquire/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Getting the package
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Environment/Building_Packages/config_make_install/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Config, Make, Install
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Environment/Building_Packages/modules/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Create a Modulefile
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_9" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../Applications/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Applications
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_9" id="__nav_3_9_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_9">
            <span class="md-nav__icon md-icon"></span>
            Applications
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Applications/alphafold/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    AlphaFold
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Applications/ansys/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ANSYS CFD
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Applications/exawind/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ExaWind
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Applications/chemicalKinetics/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Chemical Kinetics
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Applications/comsol/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    COMSOL
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Applications/fenics/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    FEniCS
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Applications/gams/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    GAMS
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Applications/gaussian/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Gaussian
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Applications/gurobi/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Gurobi
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Applications/idaes_solvers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    IDAES Solvers
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Applications/ipopt/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    IPOPT
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Applications/lammps/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    LAMMPS
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Applications/mace/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    MACE
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_9_15" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../Applications/Matlab/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    MATLAB
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_9_15" id="__nav_3_9_15_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_9_15_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_9_15">
            <span class="md-nav__icon md-icon"></span>
            MATLAB
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Applications/Matlab/batch/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Batch Mode
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Applications/Matlab/interactive/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Interactive Mode
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Applications/Matlab/parallel/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Parallel Computing Toolbox
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Applications/Matlab/versions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Versions and Licenses
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Applications/openfast/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    OpenFAST/FAST.Farm
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Applications/openfoam/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    OpenFOAM
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_9_18" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../Applications/Plexos/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    PLEXOS
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_9_18" id="__nav_3_9_18_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_9_18_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_9_18">
            <span class="md-nav__icon md-icon"></span>
            PLEXOS
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Applications/Plexos/setup_plexos/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Setting Up
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Applications/Plexos/run_plexos/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Running Models
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Applications/qchem/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Q-Chem
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Applications/starccm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    STAR-CCM+
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Applications/vasp/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    VASP
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Applications/wrf/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    WRF
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Applications/xpressmp/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Xpress
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_10" checked>
        
          
          <label class="md-nav__link" for="__nav_3_10" id="__nav_3_10_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Development
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_10_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3_10">
            <span class="md-nav__icon md-icon"></span>
            Development
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_10_1" >
        
          
          <label class="md-nav__link" for="__nav_3_10_1" id="__nav_3_10_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Languages
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_10_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_10_1">
            <span class="md-nav__icon md-icon"></span>
            Languages
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_10_1_1" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../Languages/Julia/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Julia
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_10_1_1" id="__nav_3_10_1_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_3_10_1_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_10_1_1">
            <span class="md-nav__icon md-icon"></span>
            Julia
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Languages/Julia/julia_install/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Installing Julia
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Languages/Julia/julia_tour/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Tour of Julia
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Languages/Julia/julia_parallel/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Julia Parallel Computing
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Languages/Julia/julia_ccall_pycall/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    PyCall and CCall
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Languages/c%2B%2B/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    C++
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Languages/r/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    R
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Languages/bash/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Bash
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_10_1_5" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../Languages/Fortran/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Fortran
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_10_1_5" id="__nav_3_10_1_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_3_10_1_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_10_1_5">
            <span class="md-nav__icon md-icon"></span>
            Fortran
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Languages/Fortran/f90_advanced/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Advanced
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_10_1_6" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../Languages/Python/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Python
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_10_1_6" id="__nav_3_10_1_6_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_3_10_1_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_10_1_6">
            <span class="md-nav__icon md-icon"></span>
            Python
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Languages/Python/KestrelParallelPythonJupyter/pyEnvsAndLaunchingJobs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Parallel Python with Jupyter
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Languages/Python/dask/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Dask
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_10_2" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../Jupyter/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Jupyter
    
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_10_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_10_2">
            <span class="md-nav__icon md-icon"></span>
            Jupyter
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_10_3" >
        
          
          <label class="md-nav__link" for="__nav_3_10_3" id="__nav_3_10_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Programming Models
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_10_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_10_3">
            <span class="md-nav__icon md-icon"></span>
            Programming Models
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Programming_Models/mpi/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    MPI
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Programming_Models/gpu_hpc/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Using GPUs for HPC
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Compilers/rosetta_stone/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Compilers
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_10_5" >
        
          
          <label class="md-nav__link" for="__nav_3_10_5" id="__nav_3_10_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Build Tools
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_10_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_10_5">
            <span class="md-nav__icon md-icon"></span>
            Build Tools
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Build_Tools/cmake/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    CMake
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Build_Tools/spack/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Spack
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Build_Tools/git/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Git
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_10_6" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../Libraries/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Libraries
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_10_6" id="__nav_3_10_6_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_10_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_10_6">
            <span class="md-nav__icon md-icon"></span>
            Libraries
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Libraries/howto/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Libraries How-to
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Libraries/fftw/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    FFTW
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Libraries/hdf5/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    HDF5
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Libraries/hsl/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    HSL
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Libraries/lapack/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    LAPACK and ScaLAPACK
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Libraries/libsci/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    LibSci
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Libraries/mkl/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    MKL
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Libraries/petsc/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    PETSc
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_10_7" >
        
          
          <label class="md-nav__link" for="__nav_3_10_7" id="__nav_3_10_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Performance Tools
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_10_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_10_7">
            <span class="md-nav__icon md-icon"></span>
            Performance Tools
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_10_7_1" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../Performance_Tools/Linaro-Forge/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Linaro-Forge
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_10_7_1" id="__nav_3_10_7_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_3_10_7_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_10_7_1">
            <span class="md-nav__icon md-icon"></span>
            Linaro-Forge
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Performance_Tools/Linaro-Forge/map/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    MAP
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Performance_Tools/Linaro-Forge/performance_rep/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Performance Reports
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_10_7_2" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../Performance_Tools/Intel/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    oneAPI Tools
    
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_3_10_7_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_10_7_2">
            <span class="md-nav__icon md-icon"></span>
            oneAPI Tools
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_10_8" >
        
          
          <label class="md-nav__link" for="__nav_3_10_8" id="__nav_3_10_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Debug Tools
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_10_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_10_8">
            <span class="md-nav__icon md-icon"></span>
            Debug Tools
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Debug_Tools/ddt/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    DDT
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Debug_Tools/gdb/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    GDB
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_10_9" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../VSCode/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Visual Studio Code
    
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_10_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_10_9">
            <span class="md-nav__icon md-icon"></span>
            Visual Studio Code
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_10_10" checked>
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Containers
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_10_10" id="__nav_3_10_10_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_10_10_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3_10_10">
            <span class="md-nav__icon md-icon"></span>
            Containers
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../registries/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Container registries at NREL
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../singularity/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Singularity
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Apptainer
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Apptainer
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#how-to-use-apptainer" class="md-nav__link">
    <span class="md-ellipsis">
      How to use Apptainer
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#apptainer-runtime-examples" class="md-nav__link">
    <span class="md-ellipsis">
      Apptainer runtime examples
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Apptainer runtime examples">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#run-hello-world-ubuntu-image" class="md-nav__link">
    <span class="md-ellipsis">
      Run hello-world Ubuntu image
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Run hello-world Ubuntu image">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#allocate-a-compute-node" class="md-nav__link">
    <span class="md-ellipsis">
      Allocate a compute node.
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#load-the-apptainer-module" class="md-nav__link">
    <span class="md-ellipsis">
      Load the apptainer module
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#retrieve-hello-world-image-be-sure-to-use-scratch-as-images-are-typically-large" class="md-nav__link">
    <span class="md-ellipsis">
      Retrieve hello-world image. Be sure to use /scratch as images are typically large
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#explore-image-details" class="md-nav__link">
    <span class="md-ellipsis">
      Explore image details
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#run-image-default-script" class="md-nav__link">
    <span class="md-ellipsis">
      Run image default script
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#run-images-containing-mpi-programs-on-multiple-nodes" class="md-nav__link">
    <span class="md-ellipsis">
      Run images containing MPI programs on multiple nodes
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#apptainer-buildtime-examples" class="md-nav__link">
    <span class="md-ellipsis">
      Apptainer buildtime examples
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Apptainer buildtime examples">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#create-ubuntu-based-image-with-mpi-support" class="md-nav__link">
    <span class="md-ellipsis">
      Create Ubuntu-based image with MPI support
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Create Ubuntu-based image with MPI support">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#create-a-new-recipe-based-on-ubuntulatest" class="md-nav__link">
    <span class="md-ellipsis">
      Create a new recipe based on ubuntu:latest
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#add-ld_library_path-usrlocallib-used-by-openmpi" class="md-nav__link">
    <span class="md-ellipsis">
      Add LD_LIBRARY_PATH /usr/local/lib used by OpenMPI
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#install-development-tools-after-bootstrap-is-created" class="md-nav__link">
    <span class="md-ellipsis">
      Install development tools after bootstrap is created
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#download-compile-and-install-openmpi" class="md-nav__link">
    <span class="md-ellipsis">
      Download, compile and install openmpi.
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#compile-and-install-example-mpi-application" class="md-nav__link">
    <span class="md-ellipsis">
      Compile and install example MPI application
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#set-default-script-to-run-ring" class="md-nav__link">
    <span class="md-ellipsis">
      Set default script to run ring
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-build-image-command-must-have-root-access" class="md-nav__link">
    <span class="md-ellipsis">
      Example Build image command (must have root access)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#test-image" class="md-nav__link">
    <span class="md-ellipsis">
      Test image
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utilizing-gpu-resources-with-apptainer-images" class="md-nav__link">
    <span class="md-ellipsis">
      Utilizing GPU resources with Apptainer images
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Utilizing GPU resources with Apptainer images">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tensorflow-container-example" class="md-nav__link">
    <span class="md-ellipsis">
      Tensorflow Container Example
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Tensorflow Container Example">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-pull-a-compatible-version-of-gpu-enabled-tensorflow-from-dockerhub" class="md-nav__link">
    <span class="md-ellipsis">
      1. Pull a compatible version of GPU-enabled Tensorflow from DockerHub
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-verify-gpu-device-is-found" class="md-nav__link">
    <span class="md-ellipsis">
      2. Verify GPU device is found
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2. Verify GPU device is found">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#recognizing-gpu-device-from-slurm" class="md-nav__link">
    <span class="md-ellipsis">
      Recognizing GPU device from Slurm
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#recognizing-gpu-device-from-the-container" class="md-nav__link">
    <span class="md-ellipsis">
      Recognizing GPU device from the container
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-run-example-tensorflow-training-script" class="md-nav__link">
    <span class="md-ellipsis">
      3. Run example Tensorflow training script
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#best-practices-and-recommendations" class="md-nav__link">
    <span class="md-ellipsis">
      Best practices and recommendations
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Best practices and recommendations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#change-apptainer-cache-location-to-scratchuser" class="md-nav__link">
    <span class="md-ellipsis">
      Change Apptainer cache location to /scratch/$USER
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#save-def-files-to-home-folder-and-images-to-scratch-or-projects" class="md-nav__link">
    <span class="md-ellipsis">
      Save .def files to home folder and images to /scratch or /projects
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bind-mounting-directories" class="md-nav__link">
    <span class="md-ellipsis">
      Bind Mounting Directories
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#provide-the-nv-flag-to-apptainer-runtime-gpu" class="md-nav__link">
    <span class="md-ellipsis">
      Provide the --nv flag to Apptainer Runtime (GPU)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#providing-cuda-to-host-environment-gpu" class="md-nav__link">
    <span class="md-ellipsis">
      Providing CUDA to Host Environment (GPU)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_11" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../Viz_Analytics/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Visualization and Analytics
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_11" id="__nav_3_11_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_11">
            <span class="md-nav__icon md-icon"></span>
            Visualization and Analytics
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Viz_Analytics/virtualgl_fastx/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    VirtualGL and FastX
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Viz_Analytics/paraview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Paraview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Viz_Analytics/visit/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    VisIT
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_12" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../Machine_Learning/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Machine Learning
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_12" id="__nav_3_12_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_12_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_12">
            <span class="md-nav__icon md-icon"></span>
            Machine Learning
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Machine_Learning/Reinforcement_Learning/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Reinforcement Learning
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Machine_Learning/TensorBoard/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    TensorBoard
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Machine_Learning/Containerized_TensorFlow/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Containerized TensorFlow
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#how-to-use-apptainer" class="md-nav__link">
    <span class="md-ellipsis">
      How to use Apptainer
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#apptainer-runtime-examples" class="md-nav__link">
    <span class="md-ellipsis">
      Apptainer runtime examples
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Apptainer runtime examples">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#run-hello-world-ubuntu-image" class="md-nav__link">
    <span class="md-ellipsis">
      Run hello-world Ubuntu image
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Run hello-world Ubuntu image">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#allocate-a-compute-node" class="md-nav__link">
    <span class="md-ellipsis">
      Allocate a compute node.
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#load-the-apptainer-module" class="md-nav__link">
    <span class="md-ellipsis">
      Load the apptainer module
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#retrieve-hello-world-image-be-sure-to-use-scratch-as-images-are-typically-large" class="md-nav__link">
    <span class="md-ellipsis">
      Retrieve hello-world image. Be sure to use /scratch as images are typically large
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#explore-image-details" class="md-nav__link">
    <span class="md-ellipsis">
      Explore image details
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#run-image-default-script" class="md-nav__link">
    <span class="md-ellipsis">
      Run image default script
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#run-images-containing-mpi-programs-on-multiple-nodes" class="md-nav__link">
    <span class="md-ellipsis">
      Run images containing MPI programs on multiple nodes
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#apptainer-buildtime-examples" class="md-nav__link">
    <span class="md-ellipsis">
      Apptainer buildtime examples
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Apptainer buildtime examples">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#create-ubuntu-based-image-with-mpi-support" class="md-nav__link">
    <span class="md-ellipsis">
      Create Ubuntu-based image with MPI support
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Create Ubuntu-based image with MPI support">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#create-a-new-recipe-based-on-ubuntulatest" class="md-nav__link">
    <span class="md-ellipsis">
      Create a new recipe based on ubuntu:latest
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#add-ld_library_path-usrlocallib-used-by-openmpi" class="md-nav__link">
    <span class="md-ellipsis">
      Add LD_LIBRARY_PATH /usr/local/lib used by OpenMPI
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#install-development-tools-after-bootstrap-is-created" class="md-nav__link">
    <span class="md-ellipsis">
      Install development tools after bootstrap is created
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#download-compile-and-install-openmpi" class="md-nav__link">
    <span class="md-ellipsis">
      Download, compile and install openmpi.
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#compile-and-install-example-mpi-application" class="md-nav__link">
    <span class="md-ellipsis">
      Compile and install example MPI application
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#set-default-script-to-run-ring" class="md-nav__link">
    <span class="md-ellipsis">
      Set default script to run ring
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-build-image-command-must-have-root-access" class="md-nav__link">
    <span class="md-ellipsis">
      Example Build image command (must have root access)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#test-image" class="md-nav__link">
    <span class="md-ellipsis">
      Test image
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utilizing-gpu-resources-with-apptainer-images" class="md-nav__link">
    <span class="md-ellipsis">
      Utilizing GPU resources with Apptainer images
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Utilizing GPU resources with Apptainer images">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tensorflow-container-example" class="md-nav__link">
    <span class="md-ellipsis">
      Tensorflow Container Example
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Tensorflow Container Example">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-pull-a-compatible-version-of-gpu-enabled-tensorflow-from-dockerhub" class="md-nav__link">
    <span class="md-ellipsis">
      1. Pull a compatible version of GPU-enabled Tensorflow from DockerHub
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-verify-gpu-device-is-found" class="md-nav__link">
    <span class="md-ellipsis">
      2. Verify GPU device is found
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2. Verify GPU device is found">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#recognizing-gpu-device-from-slurm" class="md-nav__link">
    <span class="md-ellipsis">
      Recognizing GPU device from Slurm
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#recognizing-gpu-device-from-the-container" class="md-nav__link">
    <span class="md-ellipsis">
      Recognizing GPU device from the container
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-run-example-tensorflow-training-script" class="md-nav__link">
    <span class="md-ellipsis">
      3. Run example Tensorflow training script
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#best-practices-and-recommendations" class="md-nav__link">
    <span class="md-ellipsis">
      Best practices and recommendations
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Best practices and recommendations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#change-apptainer-cache-location-to-scratchuser" class="md-nav__link">
    <span class="md-ellipsis">
      Change Apptainer cache location to /scratch/$USER
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#save-def-files-to-home-folder-and-images-to-scratch-or-projects" class="md-nav__link">
    <span class="md-ellipsis">
      Save .def files to home folder and images to /scratch or /projects
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bind-mounting-directories" class="md-nav__link">
    <span class="md-ellipsis">
      Bind Mounting Directories
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#provide-the-nv-flag-to-apptainer-runtime-gpu" class="md-nav__link">
    <span class="md-ellipsis">
      Provide the --nv flag to Apptainer Runtime (GPU)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#providing-cuda-to-host-environment-gpu" class="md-nav__link">
    <span class="md-ellipsis">
      Providing CUDA to Host Environment (GPU)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


  <h1>Apptainer</h1>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Singularity has been deprecated in favor of a new container runtime environment called Apptainer, which is its direct decendent. Apptainer will run Singularity containers and it supports Singularity commands by default. Since Singularity is deprecated, it is advised to use Apptainer when building new images. More information about Apptainer can be found at <a href="https://apptainer.org">https://apptainer.org</a>. </p>
</div>
<h2 id="how-to-use-apptainer">How to use Apptainer<a class="headerlink" href="#how-to-use-apptainer" title="Permanent link">#</a></h2>
<p>On NREL HPC systems, Apptainer is accessed via a module named <code>apptainer</code> (you can check the current default module via <code>ml -d av apptainer</code>). On Kestrel specifically, the directory <code>/nopt/nrel/apps/software/apptainer/1.1.9/examples</code> holds a number of images (<code>*.sif</code>) and an example script (<code>script</code>) that shows how to run containers hosting MPI programs across multiple nodes. The <code>script</code> can also be accessed from <a href="https://github.com/NREL/HPC/blob/master/kestrel/apptainer/script">our GitHub repository</a>.</p>
<p>Before we get to the more complicated example from <code>script</code>, we'll first look at downloading (or <em>pulling</em>) and working with a simple image. The following examples assume you are logged into Kestrel, but the concepts demonstrated are still valid for any host system on which you wish to execute a container.</p>
<p>Input commands are preceded by a <code>$</code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you wish to containerize your own application, it may be worth starting with <a href="../#example-docker-build-workflow-for-hpc-users">building a local Docker image and transferring it to Kestrel</a> before attempting to directly create your own Apptainer image, since you do not have root access on HPC systems.</p>
</div>
<h2 id="apptainer-runtime-examples">Apptainer runtime examples<a class="headerlink" href="#apptainer-runtime-examples" title="Permanent link">#</a></h2>
<h3 id="run-hello-world-ubuntu-image">Run hello-world Ubuntu image<a class="headerlink" href="#run-hello-world-ubuntu-image" title="Permanent link">#</a></h3>
<h5 id="allocate-a-compute-node">Allocate a compute node.<a class="headerlink" href="#allocate-a-compute-node" title="Permanent link">#</a></h5>
<div class="highlight"><pre><span></span><code>$ ssh USERNAME@kestrel.hpc.nrel.gov
[USERNAME@kl1 ~]$ salloc --exclusive --mem=0 --tasks-per-node=104 --nodes=1 --time=01:00:00 --account=MYACCOUNT --partition=debug
[USERNAME@x1000c0s0b0n0 ~]$ cat /etc/redhat-release
Red Hat Enterprise Linux release 8.6 (Ootpa)
</code></pre></div>
<h5 id="load-the-apptainer-module">Load the apptainer module<a class="headerlink" href="#load-the-apptainer-module" title="Permanent link">#</a></h5>
<p><div class="highlight"><pre><span></span><code>[USERNAME@x1000c0s0b0n0 ~]$ module purge
[USERNAME@x1000c0s0b0n0 ~]$ ml -d av apptainer
------------------------------------ /nopt/nrel/apps/modules/default/application ------------------------------------
   apptainer/1.1.9
[USERNAME@x1000c0s0b0n0 ~]$ module load apptainer/1.1.9
</code></pre></div>
Note: at the time of writing, <code>apptainer/1.1.9</code> is the default Apptainer module on Kestrel as determined by running <code>ml -d av apptainer</code>.</p>
<h5 id="retrieve-hello-world-image-be-sure-to-use-scratch-as-images-are-typically-large">Retrieve hello-world image.  Be sure to use /scratch as images are typically large<a class="headerlink" href="#retrieve-hello-world-image-be-sure-to-use-scratch-as-images-are-typically-large" title="Permanent link">#</a></h5>
<div class="highlight"><pre><span></span><code>[USERNAME@x1000c0s0b0n0 ~]$ cd /scratch/$USER
[USERNAME@x1000c0s0b0n0 USERNAME]$ mkdir -p apptainer-images
[USERNAME@x1000c0s0b0n0 USERNAME]$ cd apptainer-images
[USERNAME@x1000c0s0b0n0 apptainer-images]$ apptainer pull --name hello-world.simg shub://vsoch/hello-world
Progress |===================================| 100.0%
</code></pre></div>
<h5 id="explore-image-details">Explore image details<a class="headerlink" href="#explore-image-details" title="Permanent link">#</a></h5>
<div class="highlight"><pre><span></span><code>[USERNAME@x1000c0s0b0n0 apptainer-images]$ apptainer inspect hello-world.simg # Shows labels
{
    &quot;org.label-schema.usage.apptainer.deffile.bootstrap&quot;: &quot;docker&quot;,
    &quot;MAINTAINER&quot;: &quot;vanessasaur&quot;,
    &quot;org.label-schema.usage.apptainer.deffile&quot;: &quot;apptainer&quot;,
    &quot;org.label-schema.schema-version&quot;: &quot;1.0&quot;,
    &quot;WHATAMI&quot;: &quot;dinosaur&quot;,
    &quot;org.label-schema.usage.apptainer.deffile.from&quot;: &quot;ubuntu:14.04&quot;,
    &quot;org.label-schema.build-date&quot;: &quot;2017-10-15T12:52:56+00:00&quot;,
    &quot;org.label-schema.usage.apptainer.version&quot;: &quot;2.4-feature-squashbuild-secbuild.g780c84d&quot;,
    &quot;org.label-schema.build-size&quot;: &quot;333MB&quot;
}
[USERNAME@x1000c0s0b0n0 apptainer-images]$ apptainer inspect -r hello-world.simg # Shows the script run
#!/bin/sh

exec /bin/bash /rawr.sh
</code></pre></div>
<h5 id="run-image-default-script">Run image default script<a class="headerlink" href="#run-image-default-script" title="Permanent link">#</a></h5>
<div class="highlight"><pre><span></span><code>[USERNAME@x1000c0s0b0n0 apptainer-images]$ apptainer run hello-world.simg
RaawwWWWWWRRRR!! Avocado!
</code></pre></div>
<h3 id="run-images-containing-mpi-programs-on-multiple-nodes">Run images containing MPI programs on multiple nodes<a class="headerlink" href="#run-images-containing-mpi-programs-on-multiple-nodes" title="Permanent link">#</a></h3>
<p>As mentioned above, there is a script in the apptainer directory that shows how MPI applications built inside an image can be run on multiple nodes. We'll run 5 containers with different versions of MPI. Each container has two MPI programs installed, a glorified Hello World (<code>phostone</code>) and PingPong (<code>ppong</code>). The 5 versions of MPI are:</p>
<ol>
<li>openmpi</li>
<li>IntelMPI</li>
<li>MPICH - with ch4</li>
<li>MPICH - with ch4 with different compile options</li>
<li>MPICH - with ch3</li>
</ol>
<p>"ch*" can be thought as a "lower level" communications protocol. A MPICH container might be built with either but we have found that ch4 is considerably faster on Kestrel. </p>
<p>The script can be found at <code>/nopt/nrel/apps/software/apptainer/1.1.9/examples/script</code>, as well as <a href="https://github.com/NREL/HPC/blob/master/kestrel/apptainer/script">our GitHub repository</a>.</p>
<p>Here is a copy:</p>
<details class="example">
<summary>Sample job script: Running MPI-enabled Apptainer containers</summary>
<div class="highlight"><pre><span></span><code>#!/bin/bash 
#SBATCH --job-name=&quot;apptainer&quot;
#SBATCH --nodes=2
#SBATCH --ntasks-per-node=2
#SBATCH --exclusive
#SBATCH --export=ALL
#SBATCH --time=02:00:00
#SBATCH --output=apptainer.log
#SBATCH --mem=0

export STARTDIR=`pwd`
export CDIR=/nopt/nrel/apps/software/apptainer/1.1.9/examples
mkdir $SLURM_JOB_ID
cd $SLURM_JOB_ID

cat $0 &gt;   script
printenv &gt; env

touch warnings
touch output

module load apptainer
which apptainer &gt;&gt; output

echo &quot;hostname&quot; &gt;&gt; output
hostname        &gt;&gt; output

echo &quot;from alpine.sif&quot; &gt;&gt; output
          apptainer exec $CDIR/alpine.sif hostname  &gt;&gt; output
echo &quot;from alpine.sif with srun&quot; &gt;&gt; output
srun -n 1 --nodes=1 apptainer exec $CDIR/alpine.sif cat /etc/os-release  &gt;&gt; output


export OMP_NUM_THREADS=2

$CDIR/tymer times starting

MPI=pmix
for v in openmpi intel mpich_ch4 mpich_ch4b  mpich_ch3; do
  srun  --mpi=$MPI   apptainer  exec   $CDIR/$v.sif  /opt/examples/affinity/tds/phostone -F &gt;  phost.$v  2&gt;&gt;warnings
  $CDIR/tymer times $v
  MPI=pmi2
  unset PMIX_MCA_gds
done

MPI=pmix
#skip mpich_ch3 because it is very slow
for v in openmpi intel mpich_ch4 mpich_ch4b           ; do
  srun  --mpi=$MPI   apptainer  exec   $CDIR/$v.sif  /opt/examples/affinity/tds/ppong&gt;  ppong.$v  2&gt;&gt;warnings
  $CDIR/tymer times $v
  MPI=pmi2
  unset PMIX_MCA_gds
done

$CDIR/tymer times finished

mv $STARTDIR/apptainer.log .
</code></pre></div>
</details>
<p>We set the variable <code>CDIR</code> which points to the directory from which we will get our containers.</p>
<p>We next create a directory for our run and go there. The <code>cat</code> and <code>printenv</code> commands give us a copy of our script and the environment in which we are running. This is useful for debugging.</p>
<p>Before we run the MPI containers, we run the command <code>hostname</code> from inside a very simple container <code>alpine.sif</code>. We show containers can be run without/with <code>srun</code>. In the second instance we <code>cat /etc/os-release</code> to show we are running a different OS.  </p>
<p>Then we get into the MPI containers. This is done in a loop over containers containing the MPI versions: <code>openmpi</code>, <code>intelmpi</code>, <code>mpich_ch4</code>, <code>mpich_ch4b</code>, and <code>mpich_ch3</code>. </p>
<p>The application <code>tymer</code> is a simple wall clock timer.  </p>
<p>The <code>--mpi=</code> option on the srun line instructs slurm how to launch jobs. The normal option is <code>--mpi=pmi2</code>. However, containers using OpenMPI might need to use the option <code>--mpi=pmix</code> as we do here.</p>
<p>The first loop just runs a quick "hello world" example. The second loop runs a pingpong test. We skip the <code>mpich_ch3</code> pingpong test because it runs very slowly.</p>
<p>You can see example output from this script in the directory:</p>
<div class="highlight"><pre><span></span><code>/nopt/nrel/apps/software/apptainer/1.1.9/examples/output/
</code></pre></div>
<p>Within <code>/nopt/nrel/apps/software/apptainer/1.1.9/examples</code>, the subdirectory <code>defs</code> contains the recipes for the images in <code>examples</code>. The images <code>apptainer.sif</code> and <code>intel.sif</code> were built in two steps using <code>app_base.def</code> - apptainer.def and mods_intel.def - intel.def. They can also be found in the <a href="https://github.com/NREL/HPC/tree/master/kestrel/apptainer/defs">HPC code examples repository</a>.</p>
<p>The script <code>sif2def</code> can be used to generate a <code>.def</code> recipe from a <code>.sif</code> image. It has not been extensively tested, so it may not work for all images and is provided here "as is."</p>
<h2 id="apptainer-buildtime-examples">Apptainer buildtime examples<a class="headerlink" href="#apptainer-buildtime-examples" title="Permanent link">#</a></h2>
<h3 id="create-ubuntu-based-image-with-mpi-support">Create Ubuntu-based image with MPI support<a class="headerlink" href="#create-ubuntu-based-image-with-mpi-support" title="Permanent link">#</a></h3>
<p>Apptainer images can be generated from a <code>.def</code> <a href="https://apptainer.org/docs/user/main/build_a_container.html">recipe</a>. </p>
<p>This example shows how to create an Apptainer image running on the Ubuntu operating system with openmpi installed. The recipe is shown in pieces to make it easier to describe what each section does. The complete recipe can be found in the <code>defs</code> subdirectory of <code>/nopt/nrel/apps/software/apptainer/1.1.9/examples</code>. Building images requires root/admin privileges, so the build process must be run on a user's computer with apptainer installed or via the <a href="https://cloud.sylabs.io/">Singularity Container Service</a>. After creation, the image can be <a href="../../../Managing_Data/Transferring_Files/">copied to Kestrel</a> and run.</p>
<h5 id="create-a-new-recipe-based-on-ubuntulatest">Create a new recipe based on ubuntu:latest<a class="headerlink" href="#create-a-new-recipe-based-on-ubuntulatest" title="Permanent link">#</a></h5>
<div class="highlight"><pre><span></span><code>Bootstrap: docker
from: ubuntu:latest
</code></pre></div>
<h5 id="add-ld_library_path-usrlocallib-used-by-openmpi">Add LD_LIBRARY_PATH /usr/local/lib used by OpenMPI<a class="headerlink" href="#add-ld_library_path-usrlocallib-used-by-openmpi" title="Permanent link">#</a></h5>
<div class="highlight"><pre><span></span><code>%environment
    export LD_LIBRARY_PATH=/usr/local/lib:$LD_LIBRARY_PATH
    export PMIX_MCA_gds=^ds12
</code></pre></div>
<h5 id="install-development-tools-after-bootstrap-is-created">Install development tools after bootstrap is created<a class="headerlink" href="#install-development-tools-after-bootstrap-is-created" title="Permanent link">#</a></h5>
<div class="highlight"><pre><span></span><code>%post
    echo &quot;Installing basic development packages...&quot;
    export DEBIAN_FRONTEND=noninteractive
    apt-get update
    apt-get install -y bash gcc g++ gfortran make curl python3
</code></pre></div>
<h5 id="download-compile-and-install-openmpi">Download, compile and install openmpi.<a class="headerlink" href="#download-compile-and-install-openmpi" title="Permanent link">#</a></h5>
<div class="highlight"><pre><span></span><code>    echo &quot;Installing OPENMPI...&quot;
    curl https://download.open-mpi.org/release/open-mpi/v4.1/openmpi-4.1.5.tar.gz --output openmpi-4.1.5.tar.gz
    mkdir -p /opt/openmpi/src
    tar -xzf openmpi-4.1.5.tar.gz -C /opt/openmpi/src
    cd /opt/openmpi/src/*
    ./configure 
    make install
</code></pre></div>
<h5 id="compile-and-install-example-mpi-application">Compile and install example MPI application<a class="headerlink" href="#compile-and-install-example-mpi-application" title="Permanent link">#</a></h5>
<div class="highlight"><pre><span></span><code>    echo &quot;Build OPENMPI example...&quot;
    export LD_LIBRARY_PATH=/usr/local/lib:$LD_LIBRARY_PATH
    cd /opt/openmpi/src/*/examples
    mpicc ring_c.c -o /usr/bin/ring
</code></pre></div>
<h5 id="set-default-script-to-run-ring">Set default script to run ring<a class="headerlink" href="#set-default-script-to-run-ring" title="Permanent link">#</a></h5>
<div class="highlight"><pre><span></span><code>  /usr/bin/ring
</code></pre></div>
<h5 id="example-build-image-command-must-have-root-access">Example Build image command (must have root access)<a class="headerlink" href="#example-build-image-command-must-have-root-access" title="Permanent link">#</a></h5>
<div class="highlight"><pre><span></span><code>sudo $(type -p apptainer) build small.sif  ubuntu-mpi.def
</code></pre></div>
<h5 id="test-image">Test image<a class="headerlink" href="#test-image" title="Permanent link">#</a></h5>
<div class="highlight"><pre><span></span><code>[kuser@kl1 ~]$ salloc --exclusive --mem=0 --tasks-per-node=104 --nodes=2 --time=01:00:00 --account=MYACCOUNT --partition=debug
salloc: Granted job allocation 90367
salloc: Waiting for resource configuration
salloc: Nodes x3000c0s25b0n0,x3000c0s27b0n0 are ready for job
[kuser@x3000c0s25b0n0 ~]$ module load apptainer 
[kuser@x3000c0s25b0n0 ~]$ srun -n 8 --tasks-per-node=4 --mpi=pmix apptainer run small.sif
Process 2 exiting
Process 3 exiting
Process 0 sending 10 to 1, tag 201 (8 processes in ring)
Process 0 sent to 1
Process 0 decremented value: 9
Process 0 decremented value: 8
Process 0 decremented value: 7
Process 0 decremented value: 6
Process 0 decremented value: 5
Process 0 decremented value: 4
Process 0 decremented value: 3
Process 0 decremented value: 2
Process 0 decremented value: 1
Process 0 decremented value: 0
Process 0 exiting
Process 1 exiting
Process 5 exiting
Process 6 exiting
Process 7 exiting
Process 4 exiting
[kuser@x3000c0s25b0n0 ~]$
</code></pre></div>
<h2 id="utilizing-gpu-resources-with-apptainer-images">Utilizing GPU resources with Apptainer images<a class="headerlink" href="#utilizing-gpu-resources-with-apptainer-images" title="Permanent link">#</a></h2>
<p>GPU-accelerated software often have complex software and hardware requirements to function properly, making containerization a particularly attractive option for deployment and use. These requirements manifest themselves as you are building your image (<em>buildtime</em>) and when you run a container (<em>runtime</em>). This section describes key components of software images that are successfully GPU-enabled with a Tensorflow container example. For more detailed documentation on the subject, visit Apptainer's dedicated <a href="https://apptainer.org/docs/user/1.0/gpu.html">GPU Support page</a>.</p>
<h3 id="tensorflow-container-example">Tensorflow Container Example<a class="headerlink" href="#tensorflow-container-example" title="Permanent link">#</a></h3>
<h4 id="1-pull-a-compatible-version-of-gpu-enabled-tensorflow-from-dockerhub">1. Pull a compatible version of GPU-enabled Tensorflow from DockerHub<a class="headerlink" href="#1-pull-a-compatible-version-of-gpu-enabled-tensorflow-from-dockerhub" title="Permanent link">#</a></h4>
<p>There are several versions (<em>tags</em>) of <a href="https://hub.docker.com/r/tensorflow/tensorflow/tags">Tensorflow images</a> available from the DockerHub <a href="../Documentation/Development/Containers/registries.md">container registry</a>, each with different versions of GPU drivers and CUDA. You can obtain this information from the host by running the command <code>nvidia-smi</code> after allocating a GPU within a Slurm job on your desired system. Alternatively, you could simply consult the table below. If your running container is installed with a different GPU driver/CUDA version than what is listed below for your target system, you will either run into a fatal error, or the software will bypass the GPU and run on the CPU, slowing computation.</p>
<table>
<thead>
<tr>
<th style="text-align: center;">System</th>
<th style="text-align: center;">Partition name</th>
<th style="text-align: center;">GPU type<br>(cards per node)</th>
<th style="text-align: center;"><code>nvidia-smi</code><br>GPU driver version</th>
<th style="text-align: center;">CUDA Version</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">Kestrel</td>
<td style="text-align: center;">gpu-h100</td>
<td style="text-align: center;">H100 (4)</td>
<td style="text-align: center;">550.54.15</td>
<td style="text-align: center;">12.4</td>
</tr>
<tr>
<td style="text-align: center;">Swift</td>
<td style="text-align: center;">gpu</td>
<td style="text-align: center;">A100 (4)</td>
<td style="text-align: center;">550.54.15</td>
<td style="text-align: center;">12.4</td>
</tr>
<tr>
<td style="text-align: center;">Vermilion</td>
<td style="text-align: center;">gpu</td>
<td style="text-align: center;">A100 (1)</td>
<td style="text-align: center;">460.106.00</td>
<td style="text-align: center;">11.2</td>
</tr>
</tbody>
</table>
<p>Kestrel's H100 GPUs run with CUDA 12.4 with a GPU driver version of 550.54.15. Most GPU-enabled applications are compatible with a given major version release of CUDA; for example, if an application requires CUDA/12.4, it will more than likely work with other versions of CUDA &gt;= 12.0. So for this example on Kestrel, we are looking for a Tensorflow image tag that includes as close to CUDA/12.4 as we can. On DockerHub, we see from consulting the <a href="https://hub.docker.com/layers/tensorflow/tensorflow/2.15.0-gpu/images/sha256-66b44c162783bb92ab6f44c1b38bcdfef70af20937089deb7bc20a4f3d7e5491?context=explore">layers of <code>tensorflow:2.15.0-gpu</code></a> that this image fits our requirements (note line 14: <code>ENV CUDA_VERSION=12.3.0</code>). <em>At the time of writing, a Tensorflow image with CUDA/12.4 is not yet available from this DockerHub repository.</em></p>
<p>First, allocate a Kestrel GPU compute node:</p>
<div class="highlight"><pre><span></span><code>salloc -A &lt;YOUR-ACCOUNT&gt; -t 1:00:00 --gpus=1 -N 1 -n 1 --mem-per-cpu=8G
</code></pre></div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>We are only requesting 1 GPU card (<code>--gpus=1</code>) of the 4 available per node, and subsequently 1 task (<code>-n 1</code>). Though we are automatically given access to all of the <em>GPU memory</em> on the node, we request 8G of <em>CPU memory</em> from <code>salloc</code>. This is because our Tensorflow example will require a decent amount of CPU memory as it copies data to and from the GPU device. If such CPU memory is a bottleneck in a real-world example, you may want to consider replacing <code>-n 1 --mem-per-cpu=8G</code> with <code>--exclusive --mem=350G</code> to request all of the node's CPU resources, even if you are only using a single GPU card. You can request up to 700G of CPU RAM. </p>
</div>
<p>Once we are allocated a node, we will load the Apptainer module, and then pull <code>tensorflow:2.15.0-gpu</code> from DockerHub to a personal scratch location on Kestrel.</p>
<div class="highlight"><pre><span></span><code>module load apptainer
apptainer pull /scratch/$USER/tensorflow-2.15.0.sif docker://tensorflow/tensorflow:2.15.0-gpu
</code></pre></div>
<p>Once the image finishes pulling, we can see a new <code>.sif</code> file in <code>/scratch/$USER</code>:</p>
<div class="highlight"><pre><span></span><code>ls -lh /scratch/$USER/tensorflow-2.15.0.sif
-rwxrwxr-x 1 USERNAME USERNAME 3.4G Apr  3 11:49 /scratch/USERNAME/tensorflow-2.15.0.sif
</code></pre></div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>We recommend saving <code>.sif</code> files to <code>/scratch</code> or <code>/projects</code> whenever feasible, as these images tend to be large, sometimes approaching tens of GB.</p>
</div>
<h4 id="2-verify-gpu-device-is-found">2. Verify GPU device is found<a class="headerlink" href="#2-verify-gpu-device-is-found" title="Permanent link">#</a></h4>
<h5 id="recognizing-gpu-device-from-slurm">Recognizing GPU device from Slurm<a class="headerlink" href="#recognizing-gpu-device-from-slurm" title="Permanent link">#</a></h5>
<p>As a reminder, we only requested 1 GPU card in our <code>salloc</code> command above. On the Slurm side of things, we can verify this device is accessible to our computing environment by examining the contents of the <code>SLURM_GPUS_ON_NODE</code> (the number of allocated GPU cards) and <code>SLURM_JOB_GPUS</code> (the device's ID). By grepping for <code>GPU</code> from our list of environmental variables, we can see that Slurm indeed recognizes a single GPU device with ID <code>0</code>:</p>
<div class="highlight"><pre><span></span><code>env | grep GPU
SLURM_GPUS_ON_NODE=1
SLURM_JOB_GPUS=0
</code></pre></div>
<h5 id="recognizing-gpu-device-from-the-container">Recognizing GPU device from the container<a class="headerlink" href="#recognizing-gpu-device-from-the-container" title="Permanent link">#</a></h5>
<p>It is important to note that just because Slurm has allocated this device, it doesn't necessarily mean that the Tensorflow container can recognize it. Let's now verify that a GPU is accessible on the containerized Python side of things. We will invoke <code>/scratch/$USER/tensorflow-2.15.0.sif</code> to see whether Tensorflow itself can use the GPU allocated by Slurm:</p>
<div class="highlight"><pre><span></span><code>apptainer exec /scratch/$USER/tensorflow-2.15.0.sif python -c &quot;import tensorflow as tf; print(tf.config.list_physical_devices(&#39;GPU&#39;))&quot;
</code></pre></div>
<p>Oh no! You should see this error as the output from the above command:</p>
<div class="highlight"><pre><span></span><code>libcuda reported version is: NOT_FOUND: was unable to find libcuda.so DSO loaded into this program
</code></pre></div>
<p>What happened here - didn't we pull a Tensorflow image that contains CUDA/12.3? We did, but whenever you run GPU-enabled Apptainers, <strong>it is critical to supply the <code>--nv</code> flag after <code>exec</code>, otherwise the GPU device(s) will not be found</strong>. You can read more about what <code>--nv</code> does <a href="https://apptainer.org/docs/user/1.0/gpu.html#requirements">here</a>.</p>
<p>Let's try finding this device from Python again, this time after supplying <code>--nv</code> to the container runtime:</p>
<div class="highlight"><pre><span></span><code>apptainer exec --nv /scratch/$USER/tensorflow-2.15.0.sif python -c &quot;import tensorflow as tf; print(tf.config.list_physical_devices(&#39;GPU&#39;))&quot;
</code></pre></div>
<p>That's better! We can now see that GPU device <code>0</code> as allocated by Slurm is accessible to Tensorflow:</p>
<div class="highlight"><pre><span></span><code>[PhysicalDevice(name=&#39;/physical_device:GPU:0&#39;, device_type=&#39;GPU&#39;)]
</code></pre></div>
<h4 id="3-run-example-tensorflow-training-script">3. Run example Tensorflow training script<a class="headerlink" href="#3-run-example-tensorflow-training-script" title="Permanent link">#</a></h4>
<p>Now we are ready to run the Tensorflow container. We will run the script below, which is based on <a href="https://www.tensorflow.org/tutorials/quickstart/advanced">Tensorflow's advanced quickstart example</a>. This script tests a model that is trained on the mnist example dataset.</p>
<details class="example">
<summary>Python script: Simple GPU Tensorflow train and test</summary>
<div class="highlight"><pre><span></span><code>import time
import tensorflow as tf
from tensorflow.keras.layers import Dense, Flatten, Conv2D
from tensorflow.keras import Model

# source: https://www.tensorflow.org/tutorials/quickstart/advanced

### load mnist dataset
mnist = tf.keras.datasets.mnist

(x_train, y_train), (x_test, y_test) = mnist.load_data()
x_train, x_test = x_train / 255.0, x_test / 255.0

# Add a channels dimension
x_train = x_train[..., tf.newaxis].astype(&quot;float32&quot;)
x_test = x_test[..., tf.newaxis].astype(&quot;float32&quot;)

### Use tf.data to batch and shuffle the dataset
train_ds = tf.data.Dataset.from_tensor_slices(
    (x_train, y_train)).shuffle(10000).batch(32)

test_ds = tf.data.Dataset.from_tensor_slices((x_test, y_test)).batch(32)

class MyModel(Model):
    def __init__(self):
        super().__init__()
        self.conv1 = Conv2D(32, 3, activation=&#39;relu&#39;)
        self.flatten = Flatten()
        self.d1 = Dense(128, activation=&#39;relu&#39;)
        self.d2 = Dense(10)

    def call(self, x):
        x = self.conv1(x)
        x = self.flatten(x)
        x = self.d1(x)
        return self.d2(x)

# Create an instance of the model
model = MyModel()

### optimizer/loss function
loss_object = tf.keras.losses.SparseCategoricalCrossentropy(from_logits=True)
optimizer = tf.keras.optimizers.Adam()

### Select metrics to measure the loss and the accuracy of the model. These metrics accumulate the values over epochs and then print the overall result.
train_loss = tf.keras.metrics.Mean(name=&#39;train_loss&#39;)
train_accuracy = tf.keras.metrics.SparseCategoricalAccuracy(name=&#39;train_accuracy&#39;)

test_loss = tf.keras.metrics.Mean(name=&#39;test_loss&#39;)
test_accuracy = tf.keras.metrics.SparseCategoricalAccuracy(name=&#39;test_accuracy&#39;)

### train the model
@tf.function
def train_step(images, labels):
    with tf.GradientTape() as tape:
        # training=True is only needed if there are layers with different
        # behavior during training versus inference (e.g. Dropout).
        predictions = model(images, training=True)
        loss = loss_object(labels, predictions)
    gradients = tape.gradient(loss, model.trainable_variables)
    optimizer.apply_gradients(zip(gradients, model.trainable_variables))

    train_loss(loss)
    train_accuracy(labels, predictions)

# test the model
@tf.function
def test_step(images, labels):
    # training=False is only needed if there are layers with different
    # behavior during training versus inference (e.g. Dropout).
    predictions = model(images, training=False)
    t_loss = loss_object(labels, predictions)

    test_loss(t_loss)
    test_accuracy(labels, predictions)


t0 = time.time()
EPOCHS = 10
for epoch in range(EPOCHS):
    # Reset the metrics at the start of the next epoch
    train_loss.reset_states()
    train_accuracy.reset_states()
    test_loss.reset_states()
    test_accuracy.reset_states()

    for images, labels in train_ds:
        train_step(images, labels)

    for test_images, test_labels in test_ds:
        test_step(test_images, test_labels)

    print(
        f&#39;Epoch {epoch + 1}, &#39;
        f&#39;Loss: {train_loss.result()}, &#39;
        f&#39;Accuracy: {train_accuracy.result() * 100}, &#39;
        f&#39;Test Loss: {test_loss.result()}, &#39;
        f&#39;Test Accuracy: {test_accuracy.result() * 100}&#39;
    )
t1 = time.time()
print(f&#39;A total of {EPOCHS} epochs took {t1-t0} seconds&#39;)
</code></pre></div>
</details>
<p>Save this script as <code>tensor_test.py</code> into your current working directory and run the following command:</p>
<div class="highlight"><pre><span></span><code>apptainer exec --nv /scratch/$USER/tensorflow-2.15.0.sif python tensor_test.py
</code></pre></div>
<p>Assuming you made the same <code>salloc</code> request above, it should take ~26 seconds to run through 10 training/testing epochs on a single GPU. This particular container is sophisticated enough to automatically switch between CPU and GPU computation depending on the availability of a GPU device. If you'd like to compare the time it takes for this script to run purely on a CPU, simply omit the <code>--nv</code> flag from your call to <code>apptainer</code> above and run the command on the same node. You should observe that the runtime jumps to ~252 seconds, meaning that the GPU computation is almost 10 times faster than the CPU!</p>
<h2 id="best-practices-and-recommendations">Best practices and recommendations<a class="headerlink" href="#best-practices-and-recommendations" title="Permanent link">#</a></h2>
<p>This section describes general recommendations and best practices for Apptainer users across NREL's HPC systems.</p>
<h3 id="change-apptainer-cache-location-to-scratchuser">Change Apptainer cache location to <code>/scratch/$USER</code><a class="headerlink" href="#change-apptainer-cache-location-to-scratchuser" title="Permanent link">#</a></h3>
<p>By default, Apptainer will cache image layers to your <code>$HOME</code> folder when you pull or build <code>.sif</code> images, which is not ideal as users have a limited storage quota in <code>/home</code>. As you continue to use Apptainer, this cache folder can become quite large and can easily fill your <code>$HOME</code>. Fortunately, the location of this cache folder can be controlled through the <code>APPTAINER_CACHEDIR</code> environmental variable. To avoid overfilling your <code>$HOME</code> with unnecessary cached data, it is recommended to add an <code>APPTAINER_CACHEDIR</code> location to your <code>~/.bashrc</code> file. You can accomplish this with the following command, which will direct these layers to save to a given system's scratch space:</p>
<p><code>echo "export APPTAINER_CACHEDIR=/scratch/$USER/.apptainer" &gt;&gt; ~/.bashrc</code></p>
<p>Note that you will either need to log out and back into the system, or run <code>source ~/.bashrc</code> for the above change to take effect.</p>
<h3 id="save-def-files-to-home-folder-and-images-to-scratch-or-projects">Save <code>.def</code> files to home folder and images to /scratch or /projects<a class="headerlink" href="#save-def-files-to-home-folder-and-images-to-scratch-or-projects" title="Permanent link">#</a></h3>
<p>An Apptainer definition file (<code>.def</code>) is a relatively small text file that contains much (if not all) of the build context for a given image. Since your <code>$HOME</code> folders on NREL's HPC systems are regularly backed up, it is strongly recommended to save this file to your home directory in case it accidentally gets deleted or otherwise lost. Since <code>.sif</code> images themselves are 1. typically large and 2. can be rebuilt from the <code>.def</code> files, we recommend saving them to a folder outside of your <code>$HOME</code>, for similar reasons described in the previous section. If you intend to work with an image briefly or intermittantly, it may make sense to save the <code>.sif</code> to your <code>/scratch</code> folder, from which files can be purged if they haven't been accessed for 28 days. If you plan to use an image frequently over time or share it with other users in your allocation, saving it in a <code>/projects</code> location you have access to may be better.</p>
<h3 id="bind-mounting-directories">Bind Mounting Directories<a class="headerlink" href="#bind-mounting-directories" title="Permanent link">#</a></h3>
<p>By default, most containers only mount your <code>$HOME</code> folder, current working directory, and a handful of other common folders. If a host directory isn't in this list and isn't explicitly provided during runtime, you may get a "File not found" error. For example, if you are running a container from <code>/scratch/$USER</code> and want to write a result file to a <code>/projects</code> location, you will need to provide the mount path with the <code>-B &lt;/path/on/host&gt;:&lt;/path/in/container&gt;</code> option:</p>
<div class="highlight"><pre><span></span><code>apptainer -B /projects:/projects --nv exec IMAGE.sif COMMAND &gt; /projects/my-project/result.txt
</code></pre></div>
<h3 id="provide-the-nv-flag-to-apptainer-runtime-gpu">Provide the <code>--nv</code> flag to Apptainer Runtime (GPU)<a class="headerlink" href="#provide-the-nv-flag-to-apptainer-runtime-gpu" title="Permanent link">#</a></h3>
<p>Once you allocate at least one GPU card in your job, you then need to make Apptainer recognize the GPU resources you wish to use. To accomplish this, you can supply the <code>--nv</code> flag to an <code>apptainer shell ...</code> or <code>apptainer exec ...</code> command. Using a generic <code>gpu_accelerated_tensorflow.sif</code> image as an example:</p>
<div class="highlight"><pre><span></span><code>apptainer exec --nv gpu_accelerated_tensorflow.sif python tensorflow.py
</code></pre></div>
<h3 id="providing-cuda-to-host-environment-gpu">Providing CUDA to Host Environment (GPU)<a class="headerlink" href="#providing-cuda-to-host-environment-gpu" title="Permanent link">#</a></h3>
<p>In the <a href="./#tensorflow-container-example">Tensorflow example above</a>, the container included all of the necessary software to run on a GPU, including CUDA. However, depending on the specific software container you are trying to run, its image may or may not include a working version of CUDA. If you encounter CUDA- or GPU-driver errors, try loading version 12.4 of the CUDA module before running the container:</p>
<div class="highlight"><pre><span></span><code>module load cuda/12.4
</code></pre></div>









  




                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
       <footer class="md-footer">

  <!-- Link to previous and/or next page -->
  
  <nav class="md-footer__inner md-grid" aria-label="footer.title">

    <!-- Link to previous page -->
    
    
    <a href="../singularity/" class="md-footer__link md-footer__link--prev"
      aria-label="Previous: Singularity" rel="prev">
      <div class="md-footer__button md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </div>
      <div class="md-footer__title">
        <div class="md-ellipsis">
          <span class="md-footer__direction">
            Previous
          </span>
          Singularity
        </div>
      </div>
    </a>
    

    <!-- Link to next page -->
    
    
    <a href="../../../Viz_Analytics/" class="md-footer__link md-footer__link--next"
      aria-label="Next: Visualization and Analytics Software Tools" rel="next">
      <div class="md-footer__title">
        <div class="md-ellipsis">
          <span class="md-footer__direction">
            Next
          </span>
          Visualization and Analytics Software Tools
        </div>
      </div>
      <div class="md-footer__button md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
      </div>
    </a>
    
  </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        <a href="https://www.nrel.gov/computational-science/" title="Computational Science at NREL">Computational
          Science at NREL</a><br>
        <a href="https://www.nrel.gov/hpc/about-hpc.html" target="_blank"
          title="About NREL High-Performance Computing">About NREL High-Performance Computing</a><br>
        <a href="https://www.nrel.gov/hpc/contact-us.html" target="_blank" title="Contact Us">Contact Us</a><br>
      </div>
    </div>
  </div>
  <footer>
    
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../../../..", "features": ["navigation.tabs", "navigation.indexes", "announce.dismiss"], "search": "../../../../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../../../assets/javascripts/bundle.50899def.min.js"></script>
      
        <script src="../../../../javascripts/mathjax.js"></script>
      
        <script src="https://unpkg.com/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>