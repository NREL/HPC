<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <title>File Transfers - </title> <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon"> <link rel="stylesheet" href="/assets/css/just-the-docs-default.css"> <script type="text/javascript" src="/assets/js/vendor/lunr.min.js"></script> <script type="text/javascript" src="/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.6.1 --> <title>File Transfers</title> <meta name="generator" content="Jekyll v4.1.1" /> <meta property="og:title" content="File Transfers" /> <meta property="og:locale" content="en_US" /> <script type="application/ld+json"> {"url":"/General/beginner/file-transfers.html","@type":"WebPage","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"/assets/nrel.png"}},"headline":"File Transfers","@context":"https://schema.org"}</script> <!-- End Jekyll SEO tag --> </head> <body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header"> <a href="/" class="site-title lh-tight"> <div class="site-logo"></div> </a> <a href="#" id="menu-button" class="site-button"> <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg> </a> </div> <nav role="navigation" aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><a href="/" class="nav-list-link">Home</a></li><li class="nav-list-item"><a href="/blog/" class="nav-list-link">Blog</a></li><li class="nav-list-item active"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/General/general.html" class="nav-list-link">General</a><ul class="nav-list "><li class="nav-list-item active"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/General/beginner/beginner.html" class="nav-list-link">Beginner</a><ul class="nav-list"><li class="nav-list-item active"> <a href="/General/beginner/file-transfers.html" class="nav-list-link active">File Transfers</a> </li><li class="nav-list-item "> <a href="/General/beginner/filesystems.html" class="nav-list-link">Filesystems</a> </li></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/General/intermediate/intermediate.html" class="nav-list-link">Intermediate</a><ul class="nav-list"><li class="nav-list-item "> <a href="/General/intermediate/building-packages.html" class="nav-list-link">Building Packages</a> </li></ul></li><li class="nav-list-item "><a href="/python/further-resources.html" class="nav-list-link">Python Additional Resources</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/python/python.html" class="nav-list-link">Python</a><ul class="nav-list "><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/python/dask/dask.html" class="nav-list-link">Dask</a><ul class="nav-list"><li class="nav-list-item "> <a href="/python/dask/dask-mpi.html" class="nav-list-link">Dask-MPI</a> </li></ul></li></ul></li></ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/pmarsceill/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search " aria-label="Search " autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> </div> <div id="main-content-wrap" class="main-content-wrap"> <nav aria-label="Breadcrumb" class="breadcrumb-nav"> <ol class="breadcrumb-nav-list"> <li class="breadcrumb-nav-list-item"><a href="/General/general.html">General</a></li> <li class="breadcrumb-nav-list-item"><a href="/General/beginner/beginner.html">Beginner</a></li> <li class="breadcrumb-nav-list-item"><span>File Transfers</span></li> </ol> </nav> <div id="main-content" class="main-content" role="main"> <h1 id="how-to-transfer-files"> <a href="#how-to-transfer-files" class="anchor-heading" aria-labelledby="how-to-transfer-files"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> how-to-transfer-files </h1> <p><em>Learn how to transfer data within, to and from NRELâ€™s high-performance computing (HPC) systems.</em></p> <p>A supported set of instructions for data transfer using NREL HPC systems is provided on the <a href="https://www.nrel.gov/hpc/data-storage-transfer.html">HPC NREL Website</a>.</p> <h2 id="checking-usage-and-quota"> <a href="#checking-usage-and-quota" class="anchor-heading" aria-labelledby="checking-usage-and-quota"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Checking Usage and Quota </h2> <p>The below command is used to check your quota from a Peregrine login node. alloc_tracker will display your usage and quota for each filesystem.</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>alloc_tracker
</code></pre></div></div> <h2 id="best-practices-for-transfering-files"> <a href="#best-practices-for-transfering-files" class="anchor-heading" aria-labelledby="best-practices-for-transfering-files"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Best Practices for Transfering Files </h2> <h4 id="file-transfers-between-filesystems-on-the-nrel-network"> <a href="#file-transfers-between-filesystems-on-the-nrel-network" class="anchor-heading" aria-labelledby="file-transfers-between-filesystems-on-the-nrel-network"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> File Transfers Between Filesystems on the NREL network </h4> <p>rsync is the recommended tool for transferring data between NREL systems. It allows you to easily restart transfers if they fail, and also provides more consistency when dealing with symbolic links, hard links, and sparse files than either scp or cp. It is recommended you do not use compression for transfers within NREL systems. An example command is:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>rsync <span class="nt">-aP</span> <span class="nt">--no-g</span> /scratch/username/dataset1/ /mss/users/username/dataset1/
</code></pre></div></div> <p><em>Mass Storage has quotas that limit the number of individual files you can store. If you are copying hundreds of thousands of files then it is best to archive these files prior to copying to Mass Storage. See the <a href="../intro-to-linux/archiving.md">guide on how to archive files</a>.</em></p> <p><em>Mass Storage quotas rely on the group of the file and not the directory path. It is best to use the <code class="language-plaintext highlighter-rouge">--no-g</code> option when rsyncing to MSS so you use the destination group rather than the group permissions of your source. You can also <code class="language-plaintext highlighter-rouge">chgrp</code> your files to the appropriate group prior to rsyncing to MSS.</em></p> <h4 id="small-transfers-100gb-outside-of-the-nrel-network"> <a href="#small-transfers-100gb-outside-of-the-nrel-network" class="anchor-heading" aria-labelledby="small-transfers-100gb-outside-of-the-nrel-network"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Small Transfers (&lt;100GB) outside of the NREL network </h4> <p><code class="language-plaintext highlighter-rouge">rsync</code>, <code class="language-plaintext highlighter-rouge">scp</code>, and <code class="language-plaintext highlighter-rouge">curl</code> will be your best option for small transfers (&lt;100GB) outside of the NREL network. If your rsync/scp/curl transfers are taking hours to complete then you should consider using <a href="globus.md">Globus</a>.</p> <p>If youâ€™re transferring many files then you should use rsync:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>rsync <span class="nt">-azP</span> <span class="nt">--no-g</span> /mss/users/username/dataset1/ user@desthost:/home/username/dataset1/
</code></pre></div></div> <p>If youâ€™re transferring an individual file then use scp:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>scp /home/username/example.tar.gz user@desthost:/home/username/
</code></pre></div></div> <p>You can use curl or wget to download individual files:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>curl <span class="nt">-O</span> https://URL
<span class="nv">$ </span>wget https://URL
</code></pre></div></div> <h4 id="large-transfers-100gb-outside-of-the-nrel-network"> <a href="#large-transfers-100gb-outside-of-the-nrel-network" class="anchor-heading" aria-labelledby="large-transfers-100gb-outside-of-the-nrel-network"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Large Transfers (&gt;100GB) outside of the NREL network </h4> <p>Globus is optimized for file transfers between data centers and anything outside of the NREL network. It will be several times faster than any other tools you will have available. Documentation about requesting a HPC Globus account is available on the <a href="https://www.nrel.gov/hpc/globus-file-transfer.html">Globus Services page on the HPC website</a>. See <a href="globus.md">Transfering files using Globus</a> for instructions on transfering files with Globus.</p> <h4 id="transfering-files-using-windows"> <a href="#transfering-files-using-windows" class="anchor-heading" aria-labelledby="transfering-files-using-windows"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Transfering files using Windows </h4> <p>For Windows you will need to download WinSCP to transfer files to and from HPC systems over SCP. See <a href="winscp.md">Transfering using WinSCP</a>.</p> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
